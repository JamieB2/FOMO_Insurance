{
  "_format": "hh-sol-artifact-1",
  "contractName": "SettlementEngine",
  "sourceName": "contracts/FOMOInsurance.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_policyStorage",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_priceOracle",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [],
      "name": "InvalidPolicyId",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PolicyNotActive",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PolicyNotExpired",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PriceNotAvailable",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "policyId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "entryPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "exitPrice",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "sellerPayout",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "buyerPayout",
          "type": "uint256"
        }
      ],
      "name": "PolicySettled",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "MAX_BPS",
      "outputs": [
        {
          "internalType": "uint16",
          "name": "",
          "type": "uint16"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "policyId",
          "type": "uint256"
        }
      ],
      "name": "calculatePotentialPayouts",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "sellerPayout",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "buyerPayout",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "policyId",
          "type": "uint256"
        }
      ],
      "name": "canSettle",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "policyId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "exitPrice",
          "type": "uint256"
        }
      ],
      "name": "emergencySettlePolicy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "policyStorage",
      "outputs": [
        {
          "internalType": "contract IPolicyStorage",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "priceOracle",
      "outputs": [
        {
          "internalType": "contract IPriceOracle",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "policyId",
          "type": "uint256"
        }
      ],
      "name": "settlePolicy",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60c03461016557601f6112aa38819003918201601f19168301916001600160401b0383118484101761016a57808492604094855283398101031261016557610052602061004b83610180565b9201610180565b90600160005561006133610194565b6001600160a01b0316908115610120576001600160a01b03169081156100db5760805260a05261009033610194565b6040516110cc90816101de82396080518181816101d2015281816102a4015281816106180152818161066f0152610af7015260a05181818161034c015281816108800152610b7a0152f35b60405162461bcd60e51b815260206004820152601660248201527f496e76616c6964206f7261636c652061646472657373000000000000000000006044820152606490fd5b60405162461bcd60e51b815260206004820152601760248201527f496e76616c69642073746f7261676520616464726573730000000000000000006044820152606490fd5b600080fd5b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b038216820361016557565b600180546001600160a01b039283166001600160a01b0319821681179092559091167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e0600080a356fe6080604052600436101561001257600080fd5b6000803560e01c80630fa2e23c146108a45780632630c12f146108605780632f5f929a1461063c578063599fe9ec146105f8578063715018a6146105905780638da5cb5b14610569578063d68a7c521461027c578063df69433b1461019c578063f2fde38b146100aa5763fd967f471461008b57600080fd5b346100a757806003193601126100a75760206040516127108152f35b80fd5b50346100a75760203660031901126100a7576004356001600160a01b038116809103610198576100d8610de0565b801561012e576001600160a01b036001548273ffffffffffffffffffffffffffffffffffffffff19821617600155167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b608460405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152fd5b5080fd5b50346100a75760203660031901126100a757604051632b07fce360e01b8152600435600482015281816024816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa90811561027157829161024f575b50610180810151600481101561023b5760209250600114908161022b575b506040519015158152f35b6101609150015142101538610220565b602483634e487b7160e01b81526021600452fd5b61026b91503d8084833e61026381836108cf565b81019061095a565b38610202565b6040513d84823e3d90fd5b50346100a75760203660031901126100a7576004359061029a610e38565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169160405192632b07fce360e01b84528160048501528284602481845afa93841561055e578394610542575b5061018084018051600481101561052e576000190161051f5761016085015142106104f75761034094602060608201516040518098819263524f388960e01b83528460048401526024830190610aae565b03816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa809686976104be575b506103a4576004857f579a4801000000000000000000000000000000000000000000000000000000008152fd5b846002949596936103b58584610d49565b96909485610496575b8761046b575b52803b15610198576040516383994f3f60e01b815290829082908183816103ef898e60048401610c3b565b03925af1801561027157610452575b505061012001516040805191825260208201939093529182015260608101919091527fd0ee0718b4ec640bcbe1cf09799e07ad87e560d3f20238f4134439097278830e9080608081015b0390a26001815580f35b8161045c916108cf565b6104675785386103fe565b8580fd5b610491886001600160a01b036040880151166001600160a01b0360208901511690610e8d565b6103c4565b6104b9866001600160a01b036040880151166001600160a01b0388511690610e8d565b6103be565b9096506020813d6020116104ef575b816104da602093836108cf565b810103126104ea57519538610377565b600080fd5b3d91506104cd565b6004847fddeea75b000000000000000000000000000000000000000000000000000000008152fd5b600484638966b51f60e01b8152fd5b602485634e487b7160e01b81526021600452fd5b6105579194503d8085833e61026381836108cf565b92386102ef565b6040513d85823e3d90fd5b50346100a757806003193601126100a75760206001600160a01b0360015416604051908152f35b50346100a757806003193601126100a7576105a9610de0565b806001600160a01b0360015473ffffffffffffffffffffffffffffffffffffffff198116600155167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b50346100a757806003193601126100a75760206040516001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168152f35b50346100a75760403660031901126100a7576024359060043561065d610de0565b610665610e38565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169260405193632b07fce360e01b85528260048601528385602481845afa948515610855578495610839575b50610180850190815160048110156108255760001901610816576002906106e18488610d49565b929093846107ee575b836107c3575b52803b15610467578560405180926383994f3f60e01b82528183816107198d8c60048401610c3b565b03925af180156107b85761077a575b50610448906101207fd0ee0718b4ec640bcbe1cf09799e07ad87e560d3f20238f4134439097278830e959697015192604051948594859094939260609260808301968352602083015260408201520152565b90610120866107ae7fd0ee0718b4ec640bcbe1cf09799e07ad87e560d3f20238f4134439097278830e9798610448956108cf565b9695505090610728565b6040513d88823e3d90fd5b6107e9846001600160a01b0360408c0151166001600160a01b0360208d01511690610e8d565b6106f0565b610811856001600160a01b0360408c0151166001600160a01b038c511690610e8d565b6106ea565b600485638966b51f60e01b8152fd5b602486634e487b7160e01b81526021600452fd5b61084e9195503d8086833e61026381836108cf565b93386106ba565b6040513d86823e3d90fd5b50346100a757806003193601126100a75760206040516001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168152f35b50346100a75760203660031901126100a75760406108c3600435610ad3565b82519182526020820152f35b90601f8019910116810190811067ffffffffffffffff8211176108f157604052565b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b03821682036104ea57565b67ffffffffffffffff81116108f157601f01601f191660200190565b60005b83811061094a5750506000910152565b818101518382015260200161093a565b6020818303126104ea5780519067ffffffffffffffff82116104ea57016101a0818303126104ea57604051916101a0830183811067ffffffffffffffff8211176108f1576040526109aa82610907565b83526109b860208301610907565b60208401526109c960408301610907565b6040840152606082015167ffffffffffffffff81116104ea57820181601f820112156104ea5780516109fa8161091b565b92610a0860405194856108cf565b818452602082840101116104ea57610a269160208085019101610937565b606083015260808101516080830152610a4160a08201610907565b60a083015260c081015160c083015260e081015160e08301526101008101519061ffff821682036104ea5761018091610100840152610120810151610120840152610140810151610140840152610160810151610160840152015160048110156104ea5761018082015290565b90602091610ac781518092818552858086019101610937565b601f01601f1916010190565b9060405191632b07fce360e01b835260048301526000826024816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa918215610c2f57600092610c14575b50610180820151916004831015610bfe57600160009303610bf957610b6e602060608301516040518093819263524f388960e01b83528460048401526024830190610aae565b03816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa849181610bc1575b50610bb157506080015190565b90610bbd929350610d49565b9091565b9091506020813d602011610bf1575b81610bdd602093836108cf565b81010312610bed57519038610ba4565b8480fd5b3d9150610bd0565b508190565b634e487b7160e01b600052602160045260246000fd5b610c2891923d8091833e61026381836108cf565b9038610b28565b6040513d6000823e3d90fd5b908152604060208201526001600160a01b0382511660408201526001600160a01b0360208301511660608201526001600160a01b036040830151166080820152610180610c9960608401516101a060a08501526101e0840190610aae565b92608081015160c08401526001600160a01b0360a08201511660e084015260c081015161010084015260e081015161012084015261ffff61010082015116610140840152610120810151610160840152610140810151828401526101608101516101a08401520151906004821015610bfe576101c0015290565b91908203918211610d2057565b634e487b7160e01b600052601160045260246000fd5b81810292918115918404141715610d2057565b91906101208301908151808211600014610dd357610d6691610d13565b906127108202918083046127101490151715610d2057518015610dbd57610db161271091610dba93049461ffff61010084610da660808501998a51610d36565b049201511690610d36565b04809351610d13565b90565b634e487b7160e01b600052601260045260246000fd5b5050506080600092015190565b6001600160a01b03600154163303610df457565b606460405162461bcd60e51b815260206004820152602060248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152fd5b600260005414610e49576002600055565b606460405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152fd5b916001600160a01b03610f539293604051928260208501967fa9059cbb000000000000000000000000000000000000000000000000000000008852166024850152604484015260448352610ee26064846108cf565b16600080604095865194610ef688876108cf565b602086527f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c65646020870152519082855af13d15610ff6573d91610f378361091b565b92610f44875194856108cf565b83523d6000602085013e610ffa565b8051908115918215610fd3575b505015610f6a5750565b6084905162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e60448201527f6f742073756363656564000000000000000000000000000000000000000000006064820152fd5b81925090602091810103126104ea576020015180151581036104ea573880610f60565b6060915b9192901561105b575081511561100e575090565b3b156110175790565b606460405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152fd5b82519091501561106e5750805190602001fd5b6110929060405191829162461bcd60e51b8352602060048401526024830190610aae565b0390fdfea2646970667358221220eae8704bc9cb5887037d38170db9d8928e5b4e587f0151886a5521f563f629d664736f6c634300081c0033",
  "deployedBytecode": "0x6080604052600436101561001257600080fd5b6000803560e01c80630fa2e23c146108a45780632630c12f146108605780632f5f929a1461063c578063599fe9ec146105f8578063715018a6146105905780638da5cb5b14610569578063d68a7c521461027c578063df69433b1461019c578063f2fde38b146100aa5763fd967f471461008b57600080fd5b346100a757806003193601126100a75760206040516127108152f35b80fd5b50346100a75760203660031901126100a7576004356001600160a01b038116809103610198576100d8610de0565b801561012e576001600160a01b036001548273ffffffffffffffffffffffffffffffffffffffff19821617600155167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08380a380f35b608460405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201527f64647265737300000000000000000000000000000000000000000000000000006064820152fd5b5080fd5b50346100a75760203660031901126100a757604051632b07fce360e01b8152600435600482015281816024816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa90811561027157829161024f575b50610180810151600481101561023b5760209250600114908161022b575b506040519015158152f35b6101609150015142101538610220565b602483634e487b7160e01b81526021600452fd5b61026b91503d8084833e61026381836108cf565b81019061095a565b38610202565b6040513d84823e3d90fd5b50346100a75760203660031901126100a7576004359061029a610e38565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169160405192632b07fce360e01b84528160048501528284602481845afa93841561055e578394610542575b5061018084018051600481101561052e576000190161051f5761016085015142106104f75761034094602060608201516040518098819263524f388960e01b83528460048401526024830190610aae565b03816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa809686976104be575b506103a4576004857f579a4801000000000000000000000000000000000000000000000000000000008152fd5b846002949596936103b58584610d49565b96909485610496575b8761046b575b52803b15610198576040516383994f3f60e01b815290829082908183816103ef898e60048401610c3b565b03925af1801561027157610452575b505061012001516040805191825260208201939093529182015260608101919091527fd0ee0718b4ec640bcbe1cf09799e07ad87e560d3f20238f4134439097278830e9080608081015b0390a26001815580f35b8161045c916108cf565b6104675785386103fe565b8580fd5b610491886001600160a01b036040880151166001600160a01b0360208901511690610e8d565b6103c4565b6104b9866001600160a01b036040880151166001600160a01b0388511690610e8d565b6103be565b9096506020813d6020116104ef575b816104da602093836108cf565b810103126104ea57519538610377565b600080fd5b3d91506104cd565b6004847fddeea75b000000000000000000000000000000000000000000000000000000008152fd5b600484638966b51f60e01b8152fd5b602485634e487b7160e01b81526021600452fd5b6105579194503d8085833e61026381836108cf565b92386102ef565b6040513d85823e3d90fd5b50346100a757806003193601126100a75760206001600160a01b0360015416604051908152f35b50346100a757806003193601126100a7576105a9610de0565b806001600160a01b0360015473ffffffffffffffffffffffffffffffffffffffff198116600155167f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e08280a380f35b50346100a757806003193601126100a75760206040516001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168152f35b50346100a75760403660031901126100a7576024359060043561065d610de0565b610665610e38565b6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000169260405193632b07fce360e01b85528260048601528385602481845afa948515610855578495610839575b50610180850190815160048110156108255760001901610816576002906106e18488610d49565b929093846107ee575b836107c3575b52803b15610467578560405180926383994f3f60e01b82528183816107198d8c60048401610c3b565b03925af180156107b85761077a575b50610448906101207fd0ee0718b4ec640bcbe1cf09799e07ad87e560d3f20238f4134439097278830e959697015192604051948594859094939260609260808301968352602083015260408201520152565b90610120866107ae7fd0ee0718b4ec640bcbe1cf09799e07ad87e560d3f20238f4134439097278830e9798610448956108cf565b9695505090610728565b6040513d88823e3d90fd5b6107e9846001600160a01b0360408c0151166001600160a01b0360208d01511690610e8d565b6106f0565b610811856001600160a01b0360408c0151166001600160a01b038c511690610e8d565b6106ea565b600485638966b51f60e01b8152fd5b602486634e487b7160e01b81526021600452fd5b61084e9195503d8086833e61026381836108cf565b93386106ba565b6040513d86823e3d90fd5b50346100a757806003193601126100a75760206040516001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168152f35b50346100a75760203660031901126100a75760406108c3600435610ad3565b82519182526020820152f35b90601f8019910116810190811067ffffffffffffffff8211176108f157604052565b634e487b7160e01b600052604160045260246000fd5b51906001600160a01b03821682036104ea57565b67ffffffffffffffff81116108f157601f01601f191660200190565b60005b83811061094a5750506000910152565b818101518382015260200161093a565b6020818303126104ea5780519067ffffffffffffffff82116104ea57016101a0818303126104ea57604051916101a0830183811067ffffffffffffffff8211176108f1576040526109aa82610907565b83526109b860208301610907565b60208401526109c960408301610907565b6040840152606082015167ffffffffffffffff81116104ea57820181601f820112156104ea5780516109fa8161091b565b92610a0860405194856108cf565b818452602082840101116104ea57610a269160208085019101610937565b606083015260808101516080830152610a4160a08201610907565b60a083015260c081015160c083015260e081015160e08301526101008101519061ffff821682036104ea5761018091610100840152610120810151610120840152610140810151610140840152610160810151610160840152015160048110156104ea5761018082015290565b90602091610ac781518092818552858086019101610937565b601f01601f1916010190565b9060405191632b07fce360e01b835260048301526000826024816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa918215610c2f57600092610c14575b50610180820151916004831015610bfe57600160009303610bf957610b6e602060608301516040518093819263524f388960e01b83528460048401526024830190610aae565b03816001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000165afa849181610bc1575b50610bb157506080015190565b90610bbd929350610d49565b9091565b9091506020813d602011610bf1575b81610bdd602093836108cf565b81010312610bed57519038610ba4565b8480fd5b3d9150610bd0565b508190565b634e487b7160e01b600052602160045260246000fd5b610c2891923d8091833e61026381836108cf565b9038610b28565b6040513d6000823e3d90fd5b908152604060208201526001600160a01b0382511660408201526001600160a01b0360208301511660608201526001600160a01b036040830151166080820152610180610c9960608401516101a060a08501526101e0840190610aae565b92608081015160c08401526001600160a01b0360a08201511660e084015260c081015161010084015260e081015161012084015261ffff61010082015116610140840152610120810151610160840152610140810151828401526101608101516101a08401520151906004821015610bfe576101c0015290565b91908203918211610d2057565b634e487b7160e01b600052601160045260246000fd5b81810292918115918404141715610d2057565b91906101208301908151808211600014610dd357610d6691610d13565b906127108202918083046127101490151715610d2057518015610dbd57610db161271091610dba93049461ffff61010084610da660808501998a51610d36565b049201511690610d36565b04809351610d13565b90565b634e487b7160e01b600052601260045260246000fd5b5050506080600092015190565b6001600160a01b03600154163303610df457565b606460405162461bcd60e51b815260206004820152602060248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e65726044820152fd5b600260005414610e49576002600055565b606460405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c006044820152fd5b916001600160a01b03610f539293604051928260208501967fa9059cbb000000000000000000000000000000000000000000000000000000008852166024850152604484015260448352610ee26064846108cf565b16600080604095865194610ef688876108cf565b602086527f5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c65646020870152519082855af13d15610ff6573d91610f378361091b565b92610f44875194856108cf565b83523d6000602085013e610ffa565b8051908115918215610fd3575b505015610f6a5750565b6084905162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e60448201527f6f742073756363656564000000000000000000000000000000000000000000006064820152fd5b81925090602091810103126104ea576020015180151581036104ea573880610f60565b6060915b9192901561105b575081511561100e575090565b3b156110175790565b606460405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152fd5b82519091501561106e5750805190602001fd5b6110929060405191829162461bcd60e51b8352602060048401526024830190610aae565b0390fdfea2646970667358221220eae8704bc9cb5887037d38170db9d8928e5b4e587f0151886a5521f563f629d664736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
